{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth.guard.ts","webpack:///src/app/dashboard/dashboard.component.ts","webpack:///src/app/dashboard/dashboard.component.html","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/services/auth.service.ts","webpack:///src/app/services/strava-oauth.service.ts","webpack:///src/app/services/token-interceptor.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","redirectTo","pathMatch","component","canActivate","AppRoutingModule","forRoot","imports","AppComponent","authService","router","stravaOauth","errors","userData","email","password","username","rememberMe","isLoggedIn","base64str","localStorage","getItem","undefined","credentials","atob","split","location","window","href","includes","stravaTokenExchange","registerUser","subscribe","res","console","log","closeModals","openLogin","err","error","user","loginUser","setItem","token","navigate","setTimeout","document","getElementById","style","display","removeItem","type","alert","startOauthFlow","validateForm","length","btoa","push","weakPassword","forEach","chr","onOauthRedirect","access_token","refresh_token","name","athlete","openSingup","loginClicked","signupClicked","selector","templateUrl","styleUrls","AppModule","provide","useClass","multi","declarations","providers","bootstrap","AuthGuard","loggedIn","providedIn","DashboardComponent","LoginComponent","modalService","signUpMessage","loginUserData","screen","width","openSignUpModal","AuthService","http","_registerUrl","_loginUrl","post","getToken","StravaOauthService","initialRedirectUrl","oauthUrl","tokenExchangeUrl","keyValuePair","TokenInterceptorService","next","tokenizedRequest","clone","setHeaders","Authorization","handle","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\n\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { AuthGuard } from './auth.guard';\n\n\nconst routes: Routes = [\n  {\n    path:'',\n    redirectTo: '/login',\n    pathMatch: 'full'\n  },\n  {\n    path: 'dashboard',\n    component: DashboardComponent,\n    canActivate: [AuthGuard]\n  },\n  {\n    path: 'login',\n    component: LoginComponent\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { AuthService } from './services/auth.service';\nimport { Router } from '@angular/router';\nimport { validate } from 'json-schema';\nimport { StravaOauthService } from './services/strava-oauth.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  public errors = [];\n\n  public userData = {\n    email: \"\",\n    password: \"\",\n    username: \"\",\n    rememberMe: false\n  }\n\n  public isLoggedIn : boolean = false;\n\n  constructor(private authService: AuthService,\n    private router: Router,\n    private stravaOauth: StravaOauthService ){\n\n      let base64str = localStorage.getItem(\"credentials\");\n      if(base64str != undefined){\n        let credentials = atob(base64str).split(\":\");\n        this.userData.email = credentials[0];\n        this.userData.password = credentials[1];\n        this.userData.rememberMe = true;\n      }\n\n      let location = window.location.href;\n      if( location.includes(\"code=\")){\n        \n        this.stravaTokenExchange();\n      }\n\n  }\n\n\n  public registerUser() {\n    this.authService.registerUser(this.userData)\n      .subscribe(\n        res => {\n          console.log(res);\n          this.closeModals();\n          this.openLogin();\n          this.errors = [];\n        },\n        err => this.errors = err.error\n      )\n  }\n\n  public loginUser(user){\n\n    if(user == undefined){\n      user = this.userData;\n    }\n\n    this.authService.loginUser(user)\n      .subscribe(\n        res => {\n          console.log(res);\n          this.closeModals();\n          localStorage.setItem('token', res.token);\n          this.isLoggedIn = true;\n          this.errors = [];\n          this.router.navigate(['/dashboard']);\n        },\n        err => this.errors = [err.error] \n      )\n  }\n\n  openLogin() {\n    setTimeout(() => {\n      document.getElementById(\"login-modal\").style.display = \"block\";\n    }, 50);\n  }\n\n  openSingup() {\n\n    if(this.isLoggedIn){\n      this.isLoggedIn = false;\n      localStorage.removeItem('token');\n      this.router.navigate(['/login']);\n      return;\n    }\n\n    setTimeout(() => {\n      document.getElementById(\"signup-modal\").style.display = \"block\";\n    }, 50);\n  }\n\n  closeModals() {\n    document.getElementById(\"signup-modal\").style.display = \"none\";\n    document.getElementById(\"login-modal\").style.display = \"none\";\n  }\n\n  loginClicked(type) {\n\n    if (type == \"facebook\") {\n      alert(\"not yet implemented!\");\n      return;\n    }\n\n    if (type == \"strava\") {\n      this.stravaOauth.startOauthFlow();\n      return;\n    }\n\n    if (type == \"email\") {\n    \n      this.validateForm();\n      if(this.errors.length > 0){ return; }\n\n      if(this.userData.rememberMe){\n        let credentials = this.userData.email + \":\" + this.userData.password;\n        localStorage.setItem('credentials', btoa(credentials));\n      }\n\n      this.loginUser(this.userData);\n      return;\n    }\n  }\n\n  signupClicked(type) {\n\n    if (type == \"facebook\") {\n      alert(\"not yet implemented!\");\n      return;\n    }\n\n    if (type == \"strava\") {\n      this.stravaOauth.startOauthFlow();\n      alert(\"not yet implemented!\");\n      return;\n    }\n\n    this.validateForm();\n    if(this.errors.length > 0){ return; }\n\n    if (type == \"email\") {\n      this.registerUser();\n      return;\n    }\n  }\n\n\n  validateForm(){\n\n    this.errors = [];\n\n    if(this.userData.email == undefined){\n      this.errors.push(\"the email address is required!\");\n    \n    } else if( !this.userData.email.includes(\"@\") ){\n      this.errors.push(\"the email address is not valid!\");\n    }\n\n    if(this.userData.password == undefined){\n      this.errors.push(\"the password field is requred!\");\n\n    } else {\n      let weakPassword = true;\n      \"~!@#$%^&*_+}{?><\".split(\"\").forEach(chr => { if (this.userData.password.includes(chr)){ weakPassword = false } });\n\n      if(weakPassword){\n        this.errors.push(\"the password is too week include at least one of the special characters: ~, !, @, #, $, %, ^, &, *, _, +, }, {, ?, >, <\")\n      }\n\n      if(this.userData.password.length < 6){\n        this.errors.push(\"the password is too short, it must have at least 6 characters\");\n      }\n    }\n\n  }\n\n  stravaTokenExchange(){\n    this.stravaOauth.onOauthRedirect()\n    .subscribe(\n      res => {\n\n        localStorage.setItem(\"stravaAccess\", res.access_token);\n        localStorage.setItem(\"stravaRefresh\", res.refresh_token);\n        \n        let name =res.athlete.username;\n        let email = name + \"@strava\";\n        let password = res.access_token;\n\n        this.loginUser({\n          username:name,\n          email:email,\n          password:password\n        });\n\n      },\n      err => console.log(err) \n    )\n  }\n   \n}\n","<Header (click)=\"closeModals()\">\n\n  <nav class=\"navbar navbar-expand-lg navbar-dark transparent-light top\">\n    <a class=\"navbar-brand\" href=\"#\">Asphalt Leader</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarText\"\n      aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarText\">\n      <ul class=\"navbar-nav mr-auto\">\n        <li class=\"nav-item active\">\n        </li>\n        <li class=\"nav-item\">\n        </li>\n      </ul>\n      <span class=\"navbar-text\" *ngIf=\"!isLoggedIn\">\n        <a class=\"nav-link\" (click)=\"openLogin()\">LOG IN <span class=\"sr-only\"></span></a>\n      </span>\n      <button type=\"button\" class=\"btn btn-outline-info\" (click)=\"openSingup()\">{{ isLoggedIn? \"log out\" : \"SIGN UP\"}}</button>\n    </div>\n  </nav>\n  \n</Header>\n\n<router-outlet (signUpEvent)=\"openSingup()\" ></router-outlet>\n\n\n\n  <div id=\"modal-container\">\n    <div id=\"login-modal\" class=\"auth-modal\">\n      <h2 class=\"mb-5\"> Log In </h2>\n\n      <button (click)=\"loginClicked('facebook')\" type=\"button\" class=\"btn btn-primary login-btn mt-4\">\n        <img src=\"../assets/logo-fb.jpg\">\n        &nbsp;&nbsp; Log in using Facebook\n      </button>\n\n      <button (click)=\"loginClicked('strava')\" type=\"button\" class=\"btn btn-warning login-btn mt-3\" id=\"strava-btn\">\n        <img src=\"../assets/logo-strava.jpg\">\n        &nbsp;&nbsp; Log in using Strava\n      </button>\n\n      <p class=\"m-5\">Or log in with email</p>\n\n      <div class=\"input-group flex-nowrap mt-2\">\n        <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\" id=\"addon-wrapping\">email</span>\n        </div>\n        <input [(ngModel)]=\"userData.email\" type=\"text\" class=\"form-control\" placeholder=\"yourEmail@yahoo.com\" aria-describedby=\"addon-wrapping\">\n      </div>\n\n      <div class=\"input-group flex-nowrap mt-3\">\n        <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\" id=\"addon-wrapping\">password</span>\n        </div>\n        <input [(ngModel)]=\"userData.password\" type=\"password\" class=\"form-control\" placeholder=\"password\" aria-describedby=\"addon-wrapping\">\n      </div>\n\n      <div style=\"float: left;\" class=\"mt-3\">\n        <input [(ngModel)]=\"userData.rememberMe\" type=\"checkbox\" name=\"remember-me\"> Remember me\n      </div> <br>\n\n      <button (click)=\"loginClicked('email')\" type=\"button\" \n          class=\"btn btn-light mt-4 login-btn\" style=\"color:black\">Log in</button>\n\n      <div class=\"mt-3 text-red\">\n          <em *ngFor=\"let error of errors\"> {{error}} </em>\n      </div>\n\n      <a href=\"\"> Forgot your password? </a>\n\n    </div>\n  </div>\n\n  <div id=\"signup-modal\" class=\"auth-modal\">\n\n\n    <h2 class=\"mb-5\"> Sing Up </h2>\n\n    <button (click)=\"signupClicked('facebook')\" type=\"button\" class=\"btn btn-primary login-btn mt-4\">\n      <img src=\"../assets/logo-fb.jpg\">\n      &nbsp;&nbsp; Sign up with Facebook\n    </button>\n\n    <button (click)=\"signupClicked('strava')\" type=\"button\" class=\"btn btn-warning login-btn mt-3\" id=\"strava-btn\">\n      <img src=\"../assets/logo-strava.jpg\">\n      &nbsp;&nbsp; Sign up with Strava\n    </button>\n\n    <p class=\"m-5\">Or sign up with your email address</p>\n\n\n    <div class=\"input-group flex-nowrap mt-1\">\n      <div class=\"input-group-prepend\">\n        <span class=\"input-group-text\" id=\"addon-wrapping\">username</span>\n      </div>\n      <input [(ngModel)]=\"userData.username\" type=\"text\" class=\"form-control\" placeholder=\"yourUsername\" aria-describedby=\"addon-wrapping\">\n    </div>\n\n    <div class=\"input-group flex-nowrap mt-3\">\n      <div class=\"input-group-prepend\">\n        <span class=\"input-group-text\" id=\"addon-wrapping\">email</span>\n      </div>\n      <input [(ngModel)]=\"userData.email\" type=\"text\" class=\"form-control\" placeholder=\"yourEmail@yahoo.com\" aria-describedby=\"addon-wrapping\">\n    </div>\n\n    <div class=\"input-group flex-nowrap mt-3\">\n      <div class=\"input-group-prepend\">\n        <span class=\"input-group-text\" id=\"addon-wrapping\">password</span>\n      </div>\n      <input [(ngModel)]=\"userData.password\" type=\"password\" class=\"form-control\" placeholder=\"password\" aria-describedby=\"addon-wrapping\">\n    </div>\n\n    <button (click)=\"signupClicked('email')\" type=\"button\" \n        class=\"btn btn-light mt-5 mb-3 login-btn\" style=\"color:black\">Sign up</button>\n  \n    <div class=\"mt-3 text-red\">\n        <em *ngFor=\"let error of errors\"> * {{error}} <br></em>\n    </div>\n\n  </div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './login/login.component';\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { HttpClientModule , HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AuthService } from './services/auth.service';\nimport { AuthGuard } from './auth.guard';\nimport { TokenInterceptorService } from './services/token-interceptor.service';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap'; \n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    DashboardComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    NgbModule,\n    HttpClientModule\n  ],\n  providers: [ AuthService, AuthGuard, \n    { \n      provide: HTTP_INTERCEPTORS,\n      useClass: TokenInterceptorService,\n      multi: true\n     } \n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from './services/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n \n   \n  constructor( private authService : AuthService,\n    private router : Router ){}\n  \n  \n  canActivate(){\n    if(this.authService.loggedIn()){\n      return true;\n    } else {\n      this.router.navigate(['/login']);\n      return false;\n    }\n  }\n\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>dashboard works!</p>\n","import { Component, OnInit } from '@angular/core'; \n\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n  providers: [NgbModal]\n})\nexport class LoginComponent implements OnInit {\n  \n  signUpMessage = \"\";\n\n  public loginUserData = {\n    email:\"\",\n    password:\"\"\n  };\n \n  constructor(private modalService: NgbModal) {}\n  \n  ngOnInit(): void {\n    this.signUpMessage = window.screen.width < 800 ? \"SIGN UP\" : \"SIGN UP FOR FREE\";\n  }\n \n  public openSignUpModal(): void { \n    document.getElementById(\"signup-modal\").style.display=\"block\";\n  }\n\n  \n  \n\n\n}\n","<div id=\"container\">\n\n    <div id=\"center-text\">\n         <h1>\n           \"The will to win means nothing \n        </h1>   \n        <h2>\n            without the will to prepare.\" \n        </h2>\n        <h4><em> -- Juma Ikangaa </em></h4>\n    </div>\n\n\n    <div id=\"sign-up\">\n        <button type=\"button\" class=\"btn btn-info\" (click)=\"openSignUpModal()\"> {{signUpMessage}} </button>\n    </div>\n\n</div>","import { Injectable } from '@angular/core'; \nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  private _registerUrl = \"http://localhost:8080/auth/signup\";\n  // private _registerUrl = \"/auth/signup\";\n  private _loginUrl = \"http://localhost:8080/auth/login\";\n  // private _loginUrl = \"auth/login\";\n\n  constructor(private http: HttpClient) { }\n\n  registerUser(user){\n    return this.http.post<any>(this._registerUrl, user);\n  }\n\n  loginUser(user){\n    return this.http.post<any>(this._loginUrl, user);\n  }\n\n  loggedIn(){\n    return !!this.getToken();\n  }\n\n  getToken(){\n    return localStorage.getItem('token');\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StravaOauthService {\n\n\n  private initialRedirectUrl = \"http://localhost:4200/login\"\n  \n  private oauthUrl = \"https://www.strava.com/oauth/authorize?client_id=47492&response_type=code&approval_prompt=force&scope=profile:read_all,activity:write,activity:read_all\"\n      + \"&redirect_uri=\" + this.initialRedirectUrl ;\n\n  private tokenExchangeUrl = \"https://www.strava.com/oauth/token?client_id=47492&client_secret=e3fabe846fbdfb4eb00d6a64f6040b10752fae22&grant_type=authorization_code\";\n\n\n  constructor(private http: HttpClient) { }\n\n  public startOauthFlow(){\n    window.location.href = this.oauthUrl;\n  }\n\n  public onOauthRedirect(){\n    \n    let keyValuePair = window.location.href.split(\"?\")[1].split(\"&\")[1];\n    let code = keyValuePair.split(\"=\")[1];\n    this.tokenExchangeUrl += \"&code=\" + code;\n\n    return this.http.post<any>(this.tokenExchangeUrl, {});\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { AuthService } from './auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TokenInterceptorService {\n\n  constructor(private authService : AuthService) { }\n  \n  \n  intercept(req, next){\n    let tokenizedRequest = req.clone({\n      setHeaders: {\n        Authorization: 'Bearer ' + this.authService.getToken()\n      }\n    });\n    return next.handle(tokenizedRequest);\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}